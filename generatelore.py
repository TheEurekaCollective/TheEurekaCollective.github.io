# coding=utf-8

# This will be displayed as the title of the tab, ex "Aeternum"
# will display the title "Aeternum - Project Anima" on the tab
tabtitle = "Silver Tower"

keywords = "Perseus Arm, City of Three Peoples, Kalatari faith, Wellspring, Luminous Falls, Kalatar’s Body, Silver Tower, Animium Wars, era of starflight, Sovereigns, planetary catastrophe, voidborne faster-than-light weapon, Kalathron, planetary shield, Arhima, Thosik, Concordat, Central Column, ark, Temple Hall, Revelators, arcology, Habitation Slabs, Ecclesio-Aristocracy Slab, Royal Houses, Royal Palaces, Hall of Revelators, Kalashue, Colleges, Sophist Slab, Guild of Librarians, Guild of Engineering, Apostle Slab, Fabricator Slab, Commercial Slabs, Sacrosanct Shroud. , origin-grade animium, Animium Hearts, animium particles, Orbital Rings, Collection Wells, Animium Refineries, animium-titanite armor, Silver Sentinels"

# This is the information that will appear in the lil box on
# the right, the order the entries appear in the box is:
# 1 4
# 2 5
# 3 6
infoheadings = ["CATEGORY", "DOMAIN", "CLASS", "SPECIES", "AUTHOR", "LAST UPDATE"]
infoentries = ["Locations", "Kalatari Domain", "Temple", "Kalatari", "Devin Deng", "September 1st, 2021"]

# this is the address of the image that appears in the lil
# box on the right, make sure it's relative to the html file
# (probably something like resources/image.jpg)
infoimagesource = "resources/Silver Tower Icon.svg"

# if the article has links, put the addresses for those links
# here. They must be listed in the same order as they appear
# in the article. You can omit the .html extension
articlelinks = ['kalatari-lore']

# this is the hardest part so read it carefully, look at the
# example for reference, make sure text is surrounded by triple quotes.
#
# 1 - surround links with brackets, and make sure they correspond
#     the links listed directly above exactly, the text in brackets
#     is what the user clicks on and the link above is where it'll
#     redirect
#
# 2 - be conscious of newlines, they're used to separate paragraphs
#     and heading and such but be aware that something like two
#     consecutive newlines will be interpreted as an extra space
#
# 3 - three equal signs at the beginning of a line signifies a
#     large title that you probably only need at the very
#     beginning of the article, make sure the rest is in all caps
#
# 4 - two equal signs at the beginning of a line signifies a
#     section title, make sure the rest of the line is all caps
#
# 5 - one equal sign at the beginning of a line signifies a
#     paragraph title, the rest should be capitalized regularly
#
# 6 - any line that doesn't start with equal signs is interpreted
#     as a regular paragraph

article = """===SILVER TOWER
Near the edge of the Perseus Arm, within the City of Three Peoples, lies a statement of {Kalatari} faith: an ark-turned-temple. It holds the Wellspring, the Luminous Falls, but most importantly, it holds the Kalatar’s Body. It is their Mecca, their Jerusalem, their Vatican. It is the Silver Tower.
==HISTORY
During the Animium Wars of the early era of starflight, the Sovereigns commissioned the building of an ark so that in the event of a planetary catastrophe, their people and holy icons would be preserved. This was proven right when a voidborne faster-than-light weapon struck the Kalatari homeworld of Kalathron, bypassing the planetary shield and destroying all life there. This marked the end of the Animium Wars, with the Kalatari, Arhima, and Thosik peoples coming together and creating the Concordat. The Silver Tower was moved to the hub of Concordat civilization, the newly constructed City of Three Peoples. Over time, the Silver Tower was added onto and modified, rendering the engines insufficient to move the structure around effectively. In the modern era, it stands unmoving within the City of Three Peoples as a space station.
==COMPOSITION
The Silver Tower is composed of several independently rotating slabs and rings that each serve a different purpose. They are all built around a reinforced central column.
=Central Column
The Central Column is made of what used to be the original ark. However, most of what used to be the original ark is now filled with structural supports and critical systems. The central transport system is also located on the Central Column.
=Temple Hall
The Temple Hall is a bulbous section in the lower portion of what used to be the center of the original ark. It is an incredibly large hall meant to fit billions of Kalatari, all packed together, at a single time. It is where the Revelators are stationed and where Kalatar resides.
=Habitation Slabs
The habitation layer of the Silver Tower is composed of gargantuan slabs extending from the upper portion of the main central column using support pillars. There are four slabs in total, coinciding with each of the Kalatari castes. Each slab is an arcology carefully designed for the caste that resides in it. The Habitation Slabs are the second-widest portion of the Silver Towerand span several hundred kilometers in diameter.
=Ecclesio-Aristocracy Slab
This is where the Sovereigns, Royal Houses, and Revelators live.
_The Royal Palaces
The Royal Palaces of the Royal Houses and Sovereigns are where the Ecclesio-Aristocracy reside during their stay. However, only the Sovereigns spend much time within their Palaces. The non-Sovereign houses have their own planets on which they reside, leaving their residences at the Silver Tower empty for the majority of the time.
_Hall of Revelators
The Hall of Revelators is a museum dedicated to telling the story of Kalashue and has statues of various Revelators from bygone ages. This is where the Revelators reside when not servicing.
_Colleges
The Colleges are where members of the noble houses and ecclesiarchy train to become Revelators and Retainers.
=Sophist Slab
The Sophist Slab is divided into guild cities, each pertaining to a different craft or art. Such guilds include the Guild of Librarians and the Guild of Engineering. These Sophists are charged with maintaining the Silver Tower’s various systems and aiding pilgrims.
=Apostle Slab
The Apostle Slab contains areas such as the barracks and training grounds. The training grounds contain state-of-the-art facilities as well as some of the most advanced simulation environments within the Concordat. The Apostle residents police the Silver Tower as well as protect it from external threats.
=Fabricator Slab
The Fabricator Slab is the most densely populated out of all the slabs. Self-contained habitation blocks contain everything a fabricator needs, such as entertainment and sustenance. The Fabricator residents build new structures as well as fix existing ones.
=Tourist Sectors
Various sections of each slab are designated as tourist sectors. The Hall of Revelators, for example, is considered a tourist sector.
=Commercial Slabs
The Commercial Slabs located on the lower portion of the Silver Tower serve as shopping and entertainment districts for pilgrims.
=Hunting Grounds
Much of Kalatari culture hinges on hunting and martial prowess. Due to this, specialized hunting grounds have been established that are stocked with various beasts native to Kalathron.
=Engines
The archaic thrusters were originally used to propel the Silver Tower through space. However, the engines are old and do not possess the strength necessary to push the modern Silver Tower effectively save for some minor orientation adjustments.
=Wellspring
The Wellspring was the original crash site of Kalatar and thus was considered holy ground. It became the center of Kalatari civilization on the world of Kalathron. However, the creation of the ark project meant that the Wellspring itself was excavated and lifted into space. It then became the original material for the Sacrosanct Shroud.
=Luminous Falls
The Luminous Falls is the place where pure origin-grade animium is harvested. White spheres of arcane technology known as “Animium Hearts” produce the animium particles, which are ejected through a permeable membrane. These animium particles emit a soft yellow glow and are dustlike in nature, hence the name “Luminous Falls”. Using specialized fields, these particles are moved towards the center of the Silver Tower, where it is distributed for consumption. The area around the luminous falls is a sterile vacuum environment to prevent contamination before use.
=Kalatar
Kalatar itself is kept in a perfectly sealed black sphere named the Sacrosanct Shroud. This specially constructed shell prevents anything from seeing what is inside of the sphere. The only objects that protrude from the sphere are the Animium Hearts.
=Orbital Rings
Millions of Kalatari are permanently stationed on the Silver Tower. However, billions of Kalatari from all over Concordat space enter and exit the Silver Tower every single day. To facilitate the movement of such masses, several series of orbital rings have been built. There are two primary rings and the older secondary ring. The two primary rings serve as docks for ships. The upper ring is dedicated for civilian ships while the lower ring is dedicated to commercial and cargo vessels. The secondary ring served as the original docking ring for the Silver Tower. Now it is used as a pathway that encompasses the Temple. The rings connect to the Central Column using spokes. These rings are the Silver Tower’s widest point, being nearly a thousand kilometers in diameter.
=Collection Wells & Animium Plant
The Luminous Falls eventually lead to the Collection Wells and Animium Refineries. This is where raw origin-grade animium is collected and packaged for distribution across the Concordat.
=Defenses
The Silver Tower possesses energy shielding, a grid of defense turrets, and incredibly thick animium-titanite armor. The Silver Tower also has a dedicated defense fleet: the Silver Sentinels."""

# this is the file the html gets saved in, make sure to include
# the .html extension
filename = "silvertower-lore.html"

# ignore this stuff

htmlcode = ""
lines = article.split('\n')
for line in lines:
	curID = line.lower().replace(' ', '-').replace('{', '').replace('}', '').replace('=', '').replace('_', '')
	for c in "{}=_":
		if c in curID:
			curID = curID.replace(c, '')
	if len(line)>=3 and line[:3]=='===':
		htmlcode += "\t\t<h1 id='"+curID+"'>" + line[3:] + "</h1>\n\t\t<span class='underline1'></span>\n"
	elif len(line)>=2 and line[:2]=='==':
		htmlcode += "\t\t<h2 id='"+curID+"'>" + line[2:] + "</h2>\n\t\t<span class='underline2'></span>\n"
	elif len(line)>=1 and line[:1]=='=':
		htmlcode += "\t\t<h3 id='"+curID+"'>" + line[1:] + "</h3>\n"
	elif len(line)>=1 and line[:1]=='_':
		htmlcode += "\t\t<h4 id='"+curID+"'>" + line[1:] + "</h4>\n"
	else:
		htmlcode += "\t\t<p class='infoparagraph'>" + line + "</p>\n"

htmlcode = htmlcode.replace('{', "<a class='infolink' href='(LINKGOESHERE)'>")
htmlcode = htmlcode.replace('}', "</a>")
for link in articlelinks:
	htmlcode = htmlcode.replace('(LINKGOESHERE)', link, 1)

s = open('loretemplate.txt', 'r').read()
s = s.replace('(PAGETITLE)', tabtitle)
s = s.replace('(INFOIMAGE)', infoimagesource)
s = s.replace('(KEYWORDS)', keywords)
for i in range(6):
	s = s.replace('(H'+str(i)+')', infoheadings[i])
	s = s.replace('(I'+str(i)+')', infoentries[i])
s = s.replace('(CONTENT)', htmlcode)

f = open(filename, 'w')
f.write(s)
f.close()
