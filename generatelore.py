# coding=utf-8

# This will be displayed as the title of the tab, ex "Aeternum"
# will display the title "Aeternum - Project Anima" on the tab
tabtitle = "Magus"

keywords = "​​​​​​mages, Terran Union, Paraphysics Division, Mage Program, Siddhar, Igarashi, mana production potential (MPP), Type-A, Type-B, cloning facilities, Jovian Cloning Facilities, Human Domain, seeker mages, mana retention systems, candidate collection facilities, neural template, combat mages, pilot mages, intendant mages, spaceborne constructs, neural restructuring, cognition stacks, fleshcraft, central cognition cores (CCCs), genetic modifications, psycho-manipulation, psionic commands, somatic threads, psionic interference, ghosts, neural network, consciousness, control system, quantum computers, Concurrent Consciousness, soul, soma, auxiliary cognition matrices, rogue mages, glass gods"

# This is the information that will appear in the lil box on
# the right, the order the entries appear in the box is:
# 1 4
# 2 5
# 3 6
infoheadings = ["CATEGORY", "DOMAIN", "CLASS", "SPECIES", "AUTHOR", "LAST UPDATE"]
infoentries = ["Characters", "Human Domain", "Construct", "Human", "Devin Deng", "September 1st, 2021"]

# this is the address of the image that appears in the lil
# box on the right, make sure it's relative to the html file
# (probably something like resources/image.jpg)
infoimagesource = "resources/Magus Icon.svg"

# if the article has links, put the addresses for those links
# here. They must be listed in the same order as they appear
# in the article. You can omit the .html extension
articlelinks = ['paraphysicsdivision-lore', 'combatmages-lore']

# this is the hardest part so read it carefully, look at the
# example for reference, make sure text is surrounded by triple quotes.
#
# 1 - surround links with brackets, and make sure they correspond
#     the links listed directly above exactly, the text in brackets
#     is what the user clicks on and the link above is where it'll
#     redirect
#
# 2 - be conscious of newlines, they're used to separate paragraphs
#     and heading and such but be aware that something like two
#     consecutive newlines will be interpreted as an extra space
#
# 3 - three equal signs at the beginning of a line signifies a
#     large title that you probably only need at the very
#     beginning of the article, make sure the rest is in all caps
#
# 4 - two equal signs at the beginning of a line signifies a
#     section title, make sure the rest of the line is all caps
#
# 5 - one equal sign at the beginning of a line signifies a
#     paragraph title, the rest should be capitalized regularly
#
# 6 - any line that doesn't start with equal signs is interpreted
#     as a regular paragraph

article = """===MAGUS
The mages of the 26th century are no longer the robe-wearing, stave-brandishing wizards of yore. They are produced by the Terran Union’s {Paraphysics Division} to be {engines of war}, pilots of starships, and administrators of civilizations.
==PROCESS
The overarching process to find and create a mage is known as the Mage Program. It was devised by Dr. Siddhar and Dr. Igarashi as a means of utilizing paraphysically powerful individuals for the securement and betterment of humankind.
=Stage 1 - Detection and Acquisition
Candidates are humans with the potential to become mages. A human is designated to be a candidate if they possess the minimum mana production potential requirement. There are two types of candidates in the Mage Program, based on their origin. They are known as Type-A and Type-B candidates. Type-A candidates originate from cloning facilities, while Type-B candidates come from the wider population.
_Type-A
The majority of mage candidates hail from the Jovian Cloning Facilities. These facilities do not produce clones as much as they produce brains in hopes that one would have the necessary MPP to become classed as a mage. Ones that do not reach the necessary requirements are reconstituted back to biomass for reuse. These facilities can produce more brains than the rest of the Human Domain can produce children. It is not completely known whether factions other than the Terran Union possess similar facilities. However, the increase in mage-to-mage engagements over time seems to confirm that other factions do have their own means of producing magus.
_Type-B
Throughout the Human Domain, mana detection stations and satellites were constructed to search for potential mage candidates. When a large spike in mana within an area is detected, a team of seeker mages is deployed to retrieve the candidate. There may be a false positive in the event that a person suddenly turns off their mana retention systems. In the event that it is a candidate, however, in-situ surgery or extraction is utilized whether to remove the child from its host parent or artificial uterus. To maintain secrecy, the host’s parents are psychoanalyzed and reprogrammed. The host is placed in a portable biobag and brought to a candidate collection facility. Occasionally, other rival parties and factions deploy their own forces to acquire the candidate as well. However, these forces are usually defeated and to the current day, only .027 percent of Type-B candidates have failed to be extracted.
=Stage 2 - Seed Collection
After extraction, both Type-A and Type-B candidates are taken to collection facilities where their neural template is extracted and they are prepped for modification.
=Stage 3 - Class Determination
A mage’s class (and subclass) determines what jobs they are meant to accomplish. There are combat mages, pilot mages, and intendant mages. Combat mages are charged with warfare, pilot mages are charged with coordinating spaceships, and intendant mages manage infrastructure. This is dependent not so much on skill as much as on their mana production potential.
_Mana Production Potential (MPP)
MPP is a grading system devised by the Paraphysics Division to categorize the differing mana outputs of organisms. These categories are named after the letters of the Greek alphabet, with Alpha being the highest possible MPP and Eta being the lowest. Mages in the highest ranges of MPP are turned into pilots or intendants, while the mages in the lowest ranges become combatants. This is due to spaceships and structures requiring much more fuel compared to the equipment that combatants use. Since mana is scarce in open space, spaceborne constructs require mages in the highest MPP ranges.
=Stage 4 - Modification
_Neural Restructuring and Cognition Stacks
Mastery of the soma occurred during the 23rd century when the art of fleshcraft was devised. While it was usually used for visual modifications or medical procedures, the military discovered a way to compress and restructure the brain. They grew enhanced neurons using mages’ brains as templates and modified them. They then stored these neurons into central cognition cores (CCCs). They also created cognition stacks, which are dedicated banks of cloned neurons. Cognition cores and cognition stacks compose a mages neural network.
_Enhanced Neurons
Genetic modification has allowed for the creation of more advanced neurons and neural structures. Mechanical and chemical modifications such as dendrite reinforcement and volatility thread implantation are used to enhance the basic structure of the human brain beyond simple genetic modification.
_Somatic Threads
To channel psionic commands around their bodies, somatic threads that utilize the principle of psionic interference are used.
_Ghosts
Ghosts are AI designed to reside within and control a mage’s neural network. They act as the consciousness and control system for a mage. They are uploaded after maturation and are designed to be operated using both neural matter and quantum computers.
_Concurrent Consciousnesses
The invention of the Concurrent Consciousness has allowed for a blurring of the lines between a natural and AI. For a mage, they are one and the same. A soul and an AI exist within the same soma, and operate as such.
_Psycho-Manipulation
Mages are incredibly powerful entities. To keep them in obedience, psycho-manipulators are installed into their CCCs. These are a series of precepts and protocols that prohibit mages from doing certain actions or having certain thoughts. In short, they are given an illusion of free will, and never have the notion to escape or disobey.
=Stage 5 - Service
After the necessary modifications, mages are either placed in active service or placed in stasis units for future use.
==NOTES
=Rogue Mages
A mage without their cognition matrices, even blessed with a natural affinity for mana, possesses the same degree of mastery over paraphysics as your average citizen. Insufficient psions and computation render any sort of advanced magic impossible. As a result, mages are supported by auxiliary cognition matrices of their motherships. The arrival of a mage can be heralded by its mothership high in orbit. As powerful as mages are, they are at the whims of their masters. Their psionics can be turned off in an instant, their suits rendered inert, their consciousnesses made dark. However, this is not the primary reason that a rogue mage is so rare. The primary reason is due to the conception of the concurrent consciousness and the installation of psycho-manipulators, the thought of escape or sedition is rendered impossible. These two factors have led mages to be dubbed “glass gods,” powerful entities that could be turned off at the input of a command key."""

# this is the file the html gets saved in, make sure to include
# the .html extension
filename = "magus-lore.html"

# ignore this stuff

htmlcode = ""
lines = article.split('\n')
for line in lines:
	curID = line.lower().replace(' ', '-').replace('{', '').replace('}', '').replace('=', '').replace('_', '')
	for c in "{}=_":
		if c in curID:
			curID = curID.replace(c, '')
	if len(line)>=3 and line[:3]=='===':
		htmlcode += "\t\t<h1 id='"+curID+"'>" + line[3:] + "</h1>\n\t\t<span class='underline1'></span>\n"
	elif len(line)>=2 and line[:2]=='==':
		htmlcode += "\t\t<h2 id='"+curID+"'>" + line[2:] + "</h2>\n\t\t<span class='underline2'></span>\n"
	elif len(line)>=1 and line[:1]=='=':
		htmlcode += "\t\t<h3 id='"+curID+"'>" + line[1:] + "</h3>\n"
	elif len(line)>=1 and line[:1]=='_':
		htmlcode += "\t\t<h4 id='"+curID+"'>" + line[1:] + "</h4>\n"
	else:
		htmlcode += "\t\t<p class='infoparagraph'>" + line + "</p>\n"

htmlcode = htmlcode.replace('{', "<a class='infolink' href='(LINKGOESHERE)'>")
htmlcode = htmlcode.replace('}', "</a>")
for link in articlelinks:
	htmlcode = htmlcode.replace('(LINKGOESHERE)', link, 1)

s = open('loretemplate.txt', 'r').read()
s = s.replace('(PAGETITLE)', tabtitle)
s = s.replace('(INFOIMAGE)', infoimagesource)
s = s.replace('(KEYWORDS)', keywords)
for i in range(6):
	s = s.replace('(H'+str(i)+')', infoheadings[i])
	s = s.replace('(I'+str(i)+')', infoentries[i])
s = s.replace('(CONTENT)', htmlcode)

f = open(filename, 'w')
f.write(s)
f.close()
